pipeline {
    agent any
    stages 
    {
        stage('continuous download')
        {
            steps 
            {
                script
                {
                    try
                    {
                       git branch: 'main', url: 'https://github.com/Bhavya0729/jenkinspipeline-code.git'
                    }
                    catch(e)
                    {
                        mail bcc: '', body: 'my pipeline not working', cc: 'bhav@gmail.com', from: '', replyTo: '', subject: 'pipeline concept', to: 'bhavya@gmail.com'
                    exit(1)
                        
                    }
                }
                
            }
        }
        stage('continuous build')
        {
            steps 
            {
                script
                {
                    try
                    {
                      sh 'mvn clean compile'
                    }
                    catch(e)
                    {
                        mail bcc: '', body: 'build not working', cc: 'bhav@gmail.com', from: '', replyTo: '', subject: 'build concept', to: 'bhavya@gmail.com'
                    exit(1)
                        
                    }
                }
                
            }
        }
        stage('continuous deployment')
        {
            steps 
            {
                script
                {
                    try
                    {
                       sh 'echo "Deploying application (replace with mvn test if you have tests)"'
                    }
                    catch(e)
                    {
                        mail bcc: '', body: 'deployment not working', cc: 'bhav@gmail.com', from: '', replyTo: '', subject: 'pipeline concept', to: 'bhavya@gmail.com'
                    exit(1)
                        
                    }
                }
                
            }
        }
        stage('continuous testing')
        {
            steps 
            {
                script
                {
                    try
                    {
                       sh 'echo "Running tests (replace with mvn test if you have tests)"'
                    }
                    catch(e)
                    {
                        mail bcc: '', body: 'testing not working', cc: 'bhav@gmail.com', from: '', replyTo: '', subject: 'pipeline concept', to: 'bhavya@gmail.com'
                    exit(1)
                        
                    }
                }
                
            }
        }
        stage('continuous release')
        {
            steps 
            {
                script
                {
                    try
                    {
                       sh 'echo "release application (replace with mvn test if you have tests)"'
                    }
                    catch(e)
                    {
                        mail bcc: '', body: 'release not working', cc: 'bhav@gmail.com', from: '', replyTo: '', subject: 'pipeline concept', to: 'bhavya@gmail.com'
                    exit(1)
                        
                    }
                }
                
            }
        }
    }
}
